<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>WebGPU</title>
    <style>
        body {margin: 0; max-width: 100%; max-height: 100%; overflow: hidden;}
    </style>
</head>
<body>
    <div id="cover" style="position: fixed; top: 0; left: 0; right: 0; bottom: 0; display: flex; justify-content: center; align-items: center; flex-direction: column; color: white; background: #000000b0; text-align: center">
        <h1 style="font-size: 3rem;">Bomb Arena</h1>
        <p style="max-width: 600px">Bomb Arena is a 2-player game where the goal is to blow up the enemy player using your bombs. Collect power-ups to increase your speed, bomb count and bomb range!</p>
        
        <p id="statusIndicator" style="margin-top: 1rem;">Loading...</p>
        <button id="startButton" style="margin-top: 1rem; display:none; padding: 1rem; font-size: 1.16rem; border: none; outline: none; border-radius: 0.5rem; cursor: pointer;">START</button>

        <h2 style="margin-top: 3rem;">Controls</h2>
        <div style="display: flex; gap:2rem; justify-content: center;">
            <div>
                <h3 style="color: indianred">Player 1 (Red)</h3>
                <p>WASD - Up, Left, Down, Right Movement</p>
                <p>E - Place Bomb</p>
            </div>
            <div>
                <h3 style="color: lightblue">Player 2 (Blue)</h3>
                <p>Arrow Keys - Up, Left, Down, Right Movement</p>
                <p>Enter - Place Bomb</p>
            </div>
        </div>
        
    </div>
    <div id="gameOverCover" style="position: fixed; top: 0; left: 0; right: 0; bottom: 0; display: none; justify-content: center; align-items: center; flex-direction: column; color: white; background: #000000b0; text-align: center">
        <h1 style="font-size: 3rem" id="winner"></h1>
        
        <button id="restartButton" style="margin-top: 1rem; padding: 1rem; font-size: 1.16rem; border: none; outline: none; border-radius: 0.5rem; cursor: pointer;">Play Again</button>
    </div>
    <canvas width="1280" height="720"></canvas>
    <canvas id="hiddenCanvas" width="1280" height="720" style="opacity: 0;"></canvas>
    <script type="module" src="src/main.js"></script>
    <script src="src/Math/gl-matrix-min.js"></script>
    <style>
        body {
            font-family: system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', 'Liberation Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
        }
    </style>

    <script type="text/javascript">
    (function(l) {
      if (l.search[1] === '/' ) {
        var decoded = l.search.slice(1).split('&').map(function(s) { 
          return s.replace(/~and~/g, '&')
        }).join('?');
        window.history.replaceState(null, null,
            l.pathname.slice(0, -1) + decoded + l.hash
        );
      }
    }(window.location))
  </script>
</body>
</html>